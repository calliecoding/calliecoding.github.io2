---
title: 外边距合并
date: 2020-07-01 04:09:02
categories: 
- 前端
- css
tags: 
- 原理 
---





# <u>!!!外边距合并</u>

## **什么是外边距合并**

外边距合并指的是，<u>当两个垂直外边距相遇时，它们将形成一个外边距。合并后的外边距的高度等于两个发生合并的外边距的高度中的较大者。</u>



*外边距合并会导致布局混乱,要杜绝外边距合并的情况*



### 了解外边距的合并规则

​		正正取最大值--->50 60 取60

​		正负相加--->50 -60 取-10

​		负负取最负值---> -50 -60 取-60



### 盒子模型的一些问题：

           1. margin叠加问题，出现在上下margin同时存在的时候。会取上下中值较大的作为叠加的值。
           2. margin传递问题，出现在嵌套的结构中，只是针对margin-top的问题。 



## 什么时候会有外边距合并

​	<u>必须是在普通文档流的块级元素才会触发外边距合并,这是大前提</u>



　外边距合并只出现在块级元素上；

　	浮动元素不会和相邻的元素产生外边距合并；

　	绝对定位元素不会和相邻的元素产生外边距合并；

　	内联块级元素间不会产生外边距合并；

　	根元素间不会不会产生外边距合并（如html与body间）；

　	设置了属性overflow且值不为visible的块级元素不会与它的子元素发生外边距合并；



### **同级元素发生合并** 

* 当一个元素出现在另一个元素上面时，第一个元素的下外边距与第二个元素的上外边距会发生合并。请看下图:

![](https://cdn.jsdelivr.net/gh/calliecoding/ImageHosting/Pic/Html+CSS/05外边距合并.png)



### **父子级之间发生margin传递** 

* 当一个元素包含在另一个元素中时（假设没有内边距或边框把外边距分隔开），它们的上和/或下外边距也会发生合并。请看下图：

![](https://cdn.jsdelivr.net/gh/calliecoding/ImageHosting/Pic/Html+CSS/05外边距合并2.png)



## 导致外边距合并的原因

​	文档流的排列方向是优先向上,优先向左

​	盒子的绘制起始线在同一水平线上

## <u>**!!!解决外边距合并的办法**</u>

1. **将两个盒子的绘制起始线设置在不同的水平线上**

给父级设置1px的透明border或padding,下图以border为例

![](https://cdn.jsdelivr.net/gh/calliecoding/ImageHosting/Pic/Html+CSS/05外边距合并3.png)



```css
父容器：border：1px solid;（不能是0px）
父容器：padding：1px；（不能是0或auto，其他的任意数值都可以）
```



2. **生成不同的BFC(普通文档流/BFC在float讲)**

[BFC](./14.2拓展-BFC.md)

css规范中：属于同一个BFC的两个相邻Box的margin会发生重叠，

那么不同BFC的两个相邻Box的margin不会发生重叠

那么你就要知道哪些元素会生成BFC

```css
父容器或子容器： float：left；（不能是auto）
父容器或子容器：position：absolute；
子容器：display：inline-block;(或是inline-table)
相邻元素：任意一个添加float：left（不能是auto）
父容器：overflow: hidden;（或auto）
```

